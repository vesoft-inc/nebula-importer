# nebula-go

![build status](https://github.com/vesoft-inc/nebula-go/workflows/build/badge.svg)
![test status](https://github.com/vesoft-inc/nebula-go/workflows/test/badge.svg)

Official Nebula Go client which communicates with the server using [fbthrift](https://github.com/facebook/fbthrift/).

Please be careful do not to modify the files in the graph directory, these codes were all generated by fbthrift.

## Install

```shell
$ go get -u -v github.com/vesoft-inc/nebula-go@master
```

If you get a message like `cannot use path@version syntax in GOPATH mode`, see the instructions below for [enabling go modules](#enabling-go-modules).

## Usage example

```go
package main

import (
  "log"

  nebula "github.com/vesoft-inc/nebula-go"
  graph "github.com/vesoft-inc/nebula-go/nebula/graph"
)

func main() {
  client, err := nebula.NewClient("127.0.0.1:3699")
  if err != nil {
    log.Fatal(err)
  }

  if err = client.Connect("username", "password"); err != nil {
    log.Fatal(err)
  }
  defer client.Disconnect()

  resp, err := client.Execute("SHOW HOSTS;")
  if err != nil {
    log.Fatal(err)
  }

  if nebula.IsError(resp) {
    log.Printf("ErrorCode: %v, ErrorMsg: %s", resp.GetErrorCode(), resp.GetErrorMsg())
  }
}
```

## Enabling go modules

Dependency management tools are built into go 1.11+ in the form of [go modules](https://github.com/golang/go/wiki/Modules).
If you are using go 1.11 or 1.12 and are working with a project located within `$GOPATH`, you need to do:

```sh
export GO111MODULE=on
```

Ensure your project has a `go.mod` file defined at the root of your project.
If you do not already have one, `go mod init` will create one for you:

```sh
go mod init
```

And then try to get dependencies of `github.com/vesoft-inc/nebula-go` in your go module by simply `go get -u -v github.com/vesoft-inc/nebula-go@master`.
